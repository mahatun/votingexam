(()=>{"use strict";var e={852:(e,t,a)=>{var o=a(751),r=a(641);const s={id:"app"};function n(e,t,a,o,n,i){const l=(0,r.g2)("Navbar"),u=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(l),(0,r.bF)(u)])}const i={class:"navbar"},l={class:"nav-links"};function u(e,t,a,o,s,n){const u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",i,[(0,r.Lk)("div",l,[(0,r.bF)(u,{to:"/"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Home")]))),_:1}),s.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(u,{key:0,to:"/login"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Login")]))),_:1})),s.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(u,{key:1,to:"/signup"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Signup")]))),_:1})),s.isAuthenticated?((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[0]||(t[0]=(...e)=>n.logoutUser&&n.logoutUser(...e)),class:"logout-button"},"Logout")):(0,r.Q3)("",!0)])])}var p=a(746);const d={name:"Navbar",data(){return{isAuthenticated:!1}},created(){const e=(0,p.xI)();(0,p.hg)(e,(e=>{this.isAuthenticated=!!e}))},methods:{async logoutUser(){const e=(0,p.xI)();await(0,p.CI)(e),this.$router.push("/")}}};var m=a(262);const c=(0,m.A)(d,[["render",u]]),h=c,b={components:{Navbar:h}},k=(0,m.A)(b,[["render",n]]),y=k;var g=a(220);const D={class:"container"};function f(e,t,a,o,s,n){return(0,r.uX)(),(0,r.CE)("div",D,t[0]||(t[0]=[(0,r.Lk)("h1",null,"Welcome to the Home Page",-1),(0,r.Lk)("p",null,"This is the main page of your app.",-1)]))}const v={name:"Home"},L=(0,m.A)(v,[["render",f]]),E=L;var C=a(33);const U={class:"container"},w={key:0,class:"error-message"};function x(e,t,a,s,n,i){return(0,r.uX)(),(0,r.CE)("div",U,[t[4]||(t[4]=(0,r.Lk)("h2",null,"Login",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.loginUser&&i.loginUser(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),type:"email",placeholder:"Email",required:""},null,512),[[o.Jo,n.email]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),type:"password",placeholder:"Password",required:""},null,512),[[o.Jo,n.password]]),t[3]||(t[3]=(0,r.Lk)("button",{type:"submit"},"Login",-1))],32),n.errorMessage?((0,r.uX)(),(0,r.CE)("p",w,(0,C.v_)(n.errorMessage),1)):(0,r.Q3)("",!0)])}var X=a(223),P=a(884);const S={apiKey:"AIzaSyC3alH4DAGpjwXiXyxh1RxJVEX3qrMGFWo",authDomain:"exam-basma.firebaseapp.com",projectId:"exam-basma",storageBucket:"exam-basma.appspot.com",messagingSenderId:"YOUR_SENDER_ID",appId:"exam-basma"},V=(0,X.Wp)(S),J=(0,p.xI)(V),A=(0,P.aU)(V),I={data(){return{email:"",password:"",errorMessage:""}},methods:{async loginUser(){try{await(0,p.x9)(J,this.email,this.password),this.$router.push("/dashboard")}catch(e){this.errorMessage=e.message}}}},$=(0,m.A)(I,[["render",x]]),_=$,O={class:"container"},W={key:0,class:"error-message"};function Q(e,t,a,s,n,i){return(0,r.uX)(),(0,r.CE)("div",O,[t[9]||(t[9]=(0,r.Lk)("h2",null,"Signup",-1)),(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>i.signupUser&&i.signupUser(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),type:"text",placeholder:"Name"},null,512),[[o.Jo,n.name]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),type:"email",placeholder:"Email",required:""},null,512),[[o.Jo,n.email]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e),type:"password",placeholder:"Password",required:""},null,512),[[o.Jo,n.password]]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.gender=e)},t[7]||(t[7]=[(0,r.Lk)("option",{value:"",disabled:""},"Select Gender",-1),(0,r.Lk)("option",{value:"Male"},"Male",-1),(0,r.Lk)("option",{value:"Female"},"Female",-1)]),512),[[o.u1,n.gender]]),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.bio=e),placeholder:"Bio"},null,512),[[o.Jo,n.bio]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.dob=e),type:"date",placeholder:"Date of Birth"},null,512),[[o.Jo,n.dob]]),t[8]||(t[8]=(0,r.Lk)("button",{type:"submit"},"Signup",-1))],32),n.errorMessage?((0,r.uX)(),(0,r.CE)("p",W,(0,C.v_)(n.errorMessage),1)):(0,r.Q3)("",!0)])}const F={data(){return{name:"",email:"",password:"",gender:"",bio:"",dob:"",errorMessage:""}},methods:{async signupUser(){try{const e=await(0,p.eJ)(J,this.email,this.password);await(0,P.gS)((0,P.rJ)(A,"users"),{uid:e.user.uid,name:this.name||null,email:this.email,gender:this.gender||null,bio:this.bio||null,dob:this.dob||null}),this.$router.push("/dashboard")}catch(e){this.errorMessage=e.message}}}},q=(0,m.A)(F,[["render",Q]]),M=q,H={class:"container"},j={key:0,class:"posts-container"},N=["onClick"],T=["src"];function R(e,t,a,o,s,n){return(0,r.uX)(),(0,r.CE)("div",H,[t[2]||(t[2]=(0,r.Lk)("h2",null,"Dashboard",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/post-form")),class:"create-button"},"Create New Entry"),s.posts.length?((0,r.uX)(),(0,r.CE)("div",j,[t[1]||(t[1]=(0,r.Lk)("h3",null,"All Posts",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.posts,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"post-card",onClick:a=>e.$router.push({name:"PostDetails",params:{id:t.id}})},[(0,r.Lk)("h4",null,(0,C.v_)(t.title),1),(0,r.Lk)("p",null,(0,C.v_)(t.description),1),(0,r.Lk)("p",null,"Published by: "+(0,C.v_)(t.publisher),1),t.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:t.image,alt:"Image"},null,8,T)):(0,r.Q3)("",!0)],8,N)))),128))])):(0,r.Q3)("",!0)])}const G={data(){return{posts:[]}},methods:{async fetchPosts(){const e=await(0,P.GG)((0,P.rJ)(A,"entries"));this.posts=e.docs.map((e=>({id:e.id,...e.data()})))}},async mounted(){await this.fetchPosts()}},K=(0,m.A)(G,[["render",R]]),B=K,z={class:"container"},Y=["onUpdate:modelValue"],Z=["onUpdate:modelValue"],ee=["onClick"];function te(e,t,a,s,n,i){return(0,r.uX)(),(0,r.CE)("div",z,[t[9]||(t[9]=(0,r.Lk)("h3",null,"Create New Entry",-1)),(0,r.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...e)=>i.submitData&&i.submitData(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.title=e),type:"text",placeholder:"Title"},null,512),[[o.Jo,n.formData.title]]),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.formData.description=e),placeholder:"Description"},null,512),[[o.Jo,n.formData.description]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.formData.price=e),type:"number",placeholder:"Price"},null,512),[[o.Jo,n.formData.price,void 0,{number:!0}]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.formData.image=e),type:"text",placeholder:"Image URL"},null,512),[[o.Jo,n.formData.image]]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.formData.subtypes,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"subtype-entry"},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t=>e.title=t,type:"text",placeholder:"Subtype Title"},null,8,Y),[[o.Jo,e.title]]),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t=>e.description=t,placeholder:"Subtype Description"},null,8,Z),[[o.Jo,e.description]]),(0,r.Lk)("button",{type:"button",onClick:e=>i.removeSubtype(t)},"Remove Subtype",8,ee)])))),128)),(0,r.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>i.addSubtype&&i.addSubtype(...e))},"Add Subtype"),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.formData.startDate=e),type:"date",placeholder:"Start Date"},null,512),[[o.Jo,n.formData.startDate]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>n.formData.endDate=e),type:"date",placeholder:"End Date"},null,512),[[o.Jo,n.formData.endDate]]),t[8]||(t[8]=(0,r.Lk)("button",{type:"submit"},"Submit",-1))],32)])}const ae={data(){return{formData:{title:"",description:"",price:null,image:"",subtypes:[],startDate:"",endDate:""}}},methods:{addSubtype(){this.formData.subtypes.push({title:"",description:""})},removeSubtype(e){this.formData.subtypes.splice(e,1)},async submitData(){const e=J.currentUser,t={title:this.formData.title||null,description:this.formData.description||null,price:this.formData.price||null,image:this.formData.image||null,subtypes:this.formData.subtypes.map((e=>({title:e.title||null,description:e.description||null}))),startDate:this.formData.startDate||null,endDate:this.formData.endDate||null,publisher:e?e.displayName||e.email:"Anonymous",userId:e.uid};try{await(0,P.gS)((0,P.rJ)(A,"entries"),t),this.$router.push("/dashboard")}catch(a){console.error("Error submitting data:",a.message)}}}},oe=(0,m.A)(ae,[["render",te]]),re=oe,se={class:"container"},ne={key:0},ie=["src"],le={key:2},ue={key:3},pe={key:4},de={key:5};function me(e,t,a,o,s,n){return(0,r.uX)(),(0,r.CE)("div",se,[(0,r.Lk)("h2",null,(0,C.v_)(s.post.title),1),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Description:",-1)),(0,r.eW)(" "+(0,C.v_)(s.post.description),1)]),s.post.price?((0,r.uX)(),(0,r.CE)("p",ne,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Price:",-1)),(0,r.eW)(" "+(0,C.v_)(s.post.price),1)])):(0,r.Q3)("",!0),s.post.image?((0,r.uX)(),(0,r.CE)("img",{key:1,src:s.post.image,alt:"Post Image"},null,8,ie)):(0,r.Q3)("",!0),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Published by:",-1)),(0,r.eW)(" "+(0,C.v_)(s.post.publisher),1)]),s.post.subtypes&&s.post.subtypes.length?((0,r.uX)(),(0,r.CE)("div",le,[t[6]||(t[6]=(0,r.Lk)("h3",null,"Subtypes",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.post.subtypes,((e,t)=>((0,r.uX)(),(0,r.CE)("li",{key:t},[(0,r.Lk)("strong",null,(0,C.v_)(e.title)+":",1),(0,r.eW)(" "+(0,C.v_)(e.description),1)])))),128))])])):(0,r.Q3)("",!0),s.post.startDate?((0,r.uX)(),(0,r.CE)("p",ue,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Start Date:",-1)),(0,r.eW)(" "+(0,C.v_)(s.post.startDate),1)])):(0,r.Q3)("",!0),s.post.endDate?((0,r.uX)(),(0,r.CE)("p",pe,[t[8]||(t[8]=(0,r.Lk)("strong",null,"End Date:",-1)),(0,r.eW)(" "+(0,C.v_)(s.post.endDate),1)])):(0,r.Q3)("",!0),s.isOwner?((0,r.uX)(),(0,r.CE)("div",de,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.editPost&&n.editPost(...e))},"Edit"),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.deletePost&&n.deletePost(...e))},"Delete")])):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:t[2]||(t[2]=t=>e.$router.push("/dashboard"))},"Back to Dashboard")])}const ce={data(){return{post:{},isOwner:!1}},async created(){const e=this.$route.params.id,t=await(0,P.x7)((0,P.H9)(A,"entries",e));if(t.exists()){this.post=t.data();const e=J.currentUser;this.isOwner=e&&e.uid===this.post.userId}else console.error("Post not found")},methods:{async deletePost(){const e=this.$route.params.id;try{await(0,P.kd)((0,P.H9)(A,"entries",e)),this.$router.push("/dashboard")}catch(t){console.error("Error deleting post:",t.message)}},editPost(){this.$router.push({name:"EditPost",params:{id:this.$route.params.id}})}}},he=(0,m.A)(ce,[["render",me]]),be=he,ke={class:"container"},ye=["onUpdate:modelValue"],ge=["onUpdate:modelValue"];function De(e,t,a,s,n,i){return(0,r.uX)(),(0,r.CE)("div",ke,[t[8]||(t[8]=(0,r.Lk)("h3",null,"Edit Post",-1)),(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>i.updatePost&&i.updatePost(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.title=e),type:"text",placeholder:"Title"},null,512),[[o.Jo,n.formData.title]]),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.formData.description=e),placeholder:"Description"},null,512),[[o.Jo,n.formData.description]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.formData.price=e),type:"number",placeholder:"Price"},null,512),[[o.Jo,n.formData.price,void 0,{number:!0}]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.formData.image=e),type:"text",placeholder:"Image URL"},null,512),[[o.Jo,n.formData.image]]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.formData.subtypes,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"subtype-entry"},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t=>e.title=t,type:"text",placeholder:"Subtype Title"},null,8,ye),[[o.Jo,e.title]]),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t=>e.description=t,placeholder:"Subtype Description"},null,8,ge),[[o.Jo,e.description]])])))),128)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.formData.startDate=e),type:"date",placeholder:"Start Date"},null,512),[[o.Jo,n.formData.startDate]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.formData.endDate=e),type:"date",placeholder:"End Date"},null,512),[[o.Jo,n.formData.endDate]]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit"},"Save Changes",-1))],32)])}const fe={data(){return{formData:{title:"",description:"",price:null,image:"",subtypes:[],startDate:"",endDate:""}}},async created(){const e=this.$route.params.id,t=await(0,P.x7)((0,P.H9)(A,"entries",e));t.exists()?this.formData={...t.data()}:console.error("Post not found")},methods:{async updatePost(){const e=this.$route.params.id;try{await(0,P.mZ)((0,P.H9)(A,"entries",e),this.formData),this.$router.push("/dashboard")}catch(t){console.error("Error updating post:",t.message)}}}},ve=(0,m.A)(fe,[["render",De]]),Le=ve,Ee=[{path:"/",name:"Home",component:E},{path:"/login",name:"Login",component:_},{path:"/signup",name:"Signup",component:M},{path:"/dashboard",name:"Dashboard",component:B,meta:{requiresAuth:!0}},{path:"/post-form",name:"PostForm",component:re,meta:{requiresAuth:!0}},{path:"/post/:id",name:"PostDetails",component:be,meta:{requiresAuth:!0}},{path:"/edit-post/:id",name:"EditPost",component:Le,meta:{requiresAuth:!0}},{path:"/dashboard",name:"Dashboard",component:B,meta:{requiresAuth:!0}}],Ce=(0,g.aE)({history:(0,g.LA)("/"),routes:Ee});Ce.beforeEach(((e,t,a)=>{const o=e.matched.some((e=>e.meta.requiresAuth)),r=(0,p.xI)().currentUser;o&&!r?a("/login"):a()}));const Ue=Ce;(0,o.Ef)(y).use(Ue).mount("#app")}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,a),s.exports}a.m=e,(()=>{var e=[];a.O=(t,o,r,s)=>{if(!o){var n=1/0;for(p=0;p<e.length;p++){for(var[o,r,s]=e[p],i=!0,l=0;l<o.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((e=>a.O[e](o[l])))?o.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(p--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[o,r,s]}})(),(()=>{a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var r,s,[n,i,l]=o,u=0;if(n.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var p=l(a)}for(t&&t(o);u<n.length;u++)s=n[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(p)},o=self["webpackChunkexam"]=self["webpackChunkexam"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=a.O(void 0,[504],(()=>a(852)));o=a.O(o)})();
//# sourceMappingURL=app.9d55223e.js.map